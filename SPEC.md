# URL要約アプリ 仕様書

## 概要

URLを入力すると、Webページの本文を取得・解析し、Gemini APIで要約して表示するWebアプリ。
要約の出力言語は元記事と同じ言語に合わせる。

---

## 技術スタック

| 役割 | 技術 |
|---|---|
| フロントエンド | Next.js (App Router) |
| バックエンド | FastAPI (Python) |
| スクレイピング | BeautifulSoup4 + httpx |
| LLM | Gemini 1.5 Flash API（無料枠） |
| FEデプロイ | Vercel |
| BEデプロイ | Render（無料枠） |

---

## 機能一覧

### コア機能

- URLを入力して送信する
- ページ本文をスクレイピングで取得する
- Gemini API に本文を投げて要約を生成する
- 要約結果を画面に表示する（元記事と同言語）

### UI

- URL入力フォーム
- 要約結果カード（タイトル・要約文・元URL）
- ローディング表示（取得中はスピナー）
- エラー表示（無効URL・スクレイピング失敗など）

---

## API設計

### エンドポイント

```
POST /api/summarize
```

### リクエスト

```json
{
  "url": "https://example.com/article"
}
```

### レスポンス（成功時）

```json
{
  "title": "記事タイトル",
  "summary": "要約文",
  "url": "https://example.com/article"
}
```

### レスポンス（エラー時）

```json
{
  "error": "エラーメッセージ"
}
```

---

## エラーケース

| ケース | 対応 |
|---|---|
| 無効なURL形式 | バリデーションエラーを返す |
| スクレイピング失敗 | アクセス拒否・タイムアウト等のメッセージを返す |
| 取得テキストが少なすぎる | 「要約できる内容がありません」を返す |
| Gemini APIエラー | エラーメッセージを返す |

---

## スコープ外（今回は作らない）

- ユーザー認証
- 要約履歴の保存
- 言語選択UI
- PDF対応
